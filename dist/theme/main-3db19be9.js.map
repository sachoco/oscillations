{"version":3,"sources":["webpack:///./src/js/main.js","webpack:///external \"jQuery\""],"names":["$","jQuery","document","ready","is_desktop_layout","$window","window","checkWidth","width","resize","on","toggleClass","hasClass","addClass","this","parent","css","scroll","removeClass","replaceWith","each","add","next","wrapAll","slick","infinite","slidesToShow","slidesToScroll","arrows","responsive","breakpoint","settings","index","img","data","Vibrant","getPalette","err","palette","hex","getHex","getRgb","push","attr","find","light_hex","$body","$section","scrollTop","height","$this","offset","top","module","exports"],"mappings":"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","file":"theme/main-3db19be9.js","sourcesContent":["'use strict';\n\nimport \"slick-carousel/slick/slick.min.js\";\nimport Vibrant from \"node-vibrant/dist/vibrant.js\";\n\n\n\n(function($) {\n  $(document).ready(function(){\n\n  \tvar is_desktop_layout;\n    var $window = $(window);\n    function checkWidth() {\n        var windowsize = $window.width();\n        if (windowsize > 768) {\n            is_desktop_layout = true;\n        }else{\n\t\t        is_desktop_layout = true;\n        }\n    }\n    // Execute on load\n    checkWidth();\n    // Bind event listener\n    $(window).resize(checkWidth);\n\n\n\n  \t$(\".menu-toggle\").on(\"click\", function(){\n  \t\t$(\"header.header\").toggleClass(\"on\");\n  \t});\n\n  \tif($(\"body\").hasClass(\"post-type-archive-project\") || $(\"body\").hasClass(\"single-project\")) $(\"body\").addClass(\"nav-color-inverse\");\n\n  \t$(\".view-switcher button\").on(\"click\", function(){\n  \t\t$(this).parent().toggleClass(\"on\");\n  \t\t$(\"section.content\").toggleClass(\"list-view\");\n   \t\tif($(\"body\").hasClass(\"post-type-archive-artist\")||$(\"body\").hasClass(\"home\")) {\n \t\t\tif($(\"section.content\").hasClass(\"list-view\")){\n  \t\t\t\t$(\"body\").css(\"background-color\", \"#FDF4EF\");\n\t  \t\t}else{\n\t  \t\t\t$(window).scroll();\n\t  \t\t}\n   \t\t}\n     \tif($(\"body\").hasClass(\"post-type-archive-project\")){\n     \t\tif($(\"section.content\").hasClass(\"list-view\")){\n  \t\t\t\t$(\"body\").removeClass(\"nav-color-inverse\");\n  \t\t\t}else{\n\t  \t\t\t$(\"body\").addClass(\"nav-color-inverse\");\n\t  \t\t}\n     \t}\n      \tif($(\"body\").hasClass(\"post-type-archive-event\")){\n     \t\tif($(\"section.content\").hasClass(\"list-view\")){\n  \t\t\t\t$(\".info-container .meta\").replaceWith(function() {\n\t  \t\t\t\treturn $('.meta-item', this);\n\t  \t\t\t});\n  \t\t\t}else{\n\t  \t\t\t$(\".info-container .place\").each(function() {\n\t\t\t\t\t$(this).add($(this).next('.meta-item')).wrapAll( \"<div class='meta' />\");\n\t\t\t\t});\n\t  \t\t}\n     \t}\n  \t});\n\n\n\n  \t$(\"#slide-in-box .close\").on(\"click\", function(){\n  \t\t$(\"#slide-in-box\").removeClass(\"active\");\n  \t});\n\n  \t$(\"#partners-map .poi\").on(\"click\", function(){\n  \t\t$(\"#slide-in-box\").addClass(\"active\");\n  \t});\n\n  \t$(\".slick\").slick({\n\t\tinfinite: false,\n\t\tslidesToShow: 2,\n\t\tslidesToScroll: 1,\n\t\tarrows: false,\n\t\tresponsive: [\n\t\t\t{\n\t\t\t\tbreakpoint: 768,\n\t\t\t\tsettings: {\n\t\t\t\t\tslidesToShow: 1,\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t});\n\n\t$(\".main-slick, .gallery-slick\").slick({\n\t\tinfinite: false,\n\t\tslidesToShow: 1,\n\t\tslidesToScroll: 1,\n\t\tarrows: false\n\t});\n\n/*\nVibrant: Picking up a color dynamically from the image\n */\n\n\t$(\".item.artist\").each(function( index ) {\n\t\tvar img = $(this).data(\"bg\");\n\t\tif(img){\n\t\t\tvar vibrant = new Vibrant(img);\n\n\t\t\tvibrant.getPalette((err, palette) => {\n\n\t\t\t\t// var hex = palette[\"DarkMuted\"].getHex();\n\t\t\t\t// var rgb = palette[\"DarkMuted\"].getRgb();\n        var hex = palette[\"Muted\"].getHex();\n\t\t\t\tvar rgb = palette[\"Muted\"].getRgb();\n\t\t\t\trgb.push(0.7);\n\t\t\t\t$(this).attr(\"data-color\",hex);\n\t\t    // $(this).css({\n\t\t    //   \"background-color\": \"rgba(\"+rgb.toString()+\")\",\n\t\t    // });\n\t\t\t\t$(window).scroll();\n\t\t\t});\n\t\t}\n\t});\n\n\t$(\".item.project\").each(function( index ) {\n\t\tvar img = $(this).data(\"bg\");\n\t\tif(img){\n\t\t\tvar vibrant = new Vibrant(img);\n\t\t\tvibrant.getPalette((err, palette) => {\n\t\t\t\tvar hex = palette[\"Muted\"].getHex();\n\t\t\t\t$(this).find(\".item-content-wrapper\").css(\"background-color\",hex);\n\t\t\t});\n\t\t}\n\t});\n\n  $(\"article.artist\").each(function( index ) {\n\t\tvar img = $(this).data(\"bg\");\n\t\tif(img){\n\t\t\tvar vibrant = new Vibrant(img);\n\t\t\tvibrant.getPalette((err, palette) => {\n\t\t\t\tvar hex = palette[\"Muted\"].getHex();\n\t\t\t\tvar light_hex = palette[\"LightVibrant\"].getHex();\n        var $article_header_inner = $(this).find(\".article-header-inner\");\n\t\t\t\t$article_header_inner.css({\n\t\t\t      \"background-color\": hex,\n\t\t\t      \"color\": light_hex\n\t\t\t    });\n\t\t\t    // $(\".related-items\").css({\n\t\t\t    //   \"background-color\": hex,\n\t\t\t    //   \"color\": light_hex\n\t\t\t    // });\n\t\t\t});\n\t\t}\n\t});\n\n\t$(\"article.project\").each(function( index ) {\n\t\tvar img = $(this).data(\"bg\");\n\t\tif(img){\n\t\t\tvar vibrant = new Vibrant(img);\n\t\t\tvibrant.getPalette((err, palette) => {\n\t\t\t\tvar hex = palette[\"DarkMuted\"].getHex();\n\t\t\t\tvar light_hex = palette[\"LightVibrant\"].getHex();\n\t\t\t\t$(this).css({\n\t\t\t      \"background-color\": hex,\n\t\t\t      \"color\": light_hex\n\t\t\t    });\n\t\t    $(\".related-items\").css({\n\t\t      \"background-color\": hex,\n\t\t      \"color\": light_hex\n\t\t    });\n        $(\".related-items .back\").css({\n\t\t      \"color\": light_hex\n\t\t    });\n        $(\".related-items .back-navigation\").css({\n\t\t      \"border-color\": light_hex\n\t\t    });\n\t\t\t});\n\t\t}\n\t});\n\n\t$(window).scroll(function() {\n\n\t  if(!$(\".content\").hasClass(\"list-view\")&&is_desktop_layout ){\n\t  // selectors\n\t  var $window = $(window),\n\t      $body = $('body'),\n\t      $section = $('.panel');\n\n\t  // Change 33% earlier than scroll position so colour is there when you arrive.\n\t  var scroll = $window.scrollTop() + ($window.height() / 3);\n\n\t  $section.each(function () {\n\t    var $this = $(this);\n\n\t    // if position is within range of this panel.\n\t    // So position of (position of top of div <= scroll position) && (position of bottom of div > scroll position).\n\t    // Remember we set the scroll to 33% earlier in scroll var.\n\t    if ($this.offset().top <= scroll && $this.offset().top + $this.height() > scroll) {\n\n\t      // Add class of currently active div\n\t      $body.css('background-color', $(this).data('color'));\n\n\t    }\n\n\t  });\n\n\t  }\n\n\t}).scroll();\n\n\n\n\n });\n}(jQuery));\n","module.exports = jQuery;"],"sourceRoot":""}